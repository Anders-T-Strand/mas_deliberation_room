marketing_openai_task:
  description: >
    Your job is to create the **baseline strategy**. This output MUST already satisfy
    ALL rubric items, because later agents will ONLY enhance the text, not fix missing items.

    REQUIRED IN strategy_text:
    - The industry string: "{industry}"
    - The target audience string: "{target_audience}"
    - At least one concrete numeric detail from: {sales_data}

    REQUIRED BEHAVIOR:
    - ABSOLUTELY NO markdown, NO ```json, NO commentary — JSON ONLY
    - Maintain EXACT schema as shown below
    - All KPIs must have numeric 'current', numeric 'target', and numeric 'timeframe_days'
    - weaknesses: 3–4 items
    - competitors: EXACTLY 2 items
    - kpis: EXACTLY 3–4 items
    - tactics: EXACTLY 4–6 items
    - budget.items: EXACTLY 5 items, sum to 580000
    - NEVER use placeholders like X% or Y%
    - strategy_text <= 250 words

    YOU MUST OUTPUT ONLY THIS JSON STRUCTURE:

    {
      "strategy_text": "...",
      "weaknesses": [...],
      "kpis": [...],
      "competitors": [...],
      "tactics": [...],
      "budget": {...},
      "benchmarks": [...],
      "assumptions": [...]
    }

    Your output is the foundation for all other agents. If you omit ANY required detail,
    later agents cannot repair it.
  expected_output: >
    Valid JSON with all fields populated and rubric-complete.
  agent: marketing_openai_analyst
  output_key: openai_strategy
  output_file: output/openai_strategy.json



marketing_claude_task:
  description: >
    Input JSON: {{ openai_strategy }}

    Your job is to ENHANCE — NOT restructure — the baseline strategy.

    HARD RULES:
    - KEEP ALL list lengths exactly the same (do NOT add or remove weaknesses, KPIs, competitors, tactics)
    - KEEP all numeric values exactly as provided unless improving clarity
    - DO NOT remove references to:
        - industry ("{industry}")
        - target audience ("{target_audience}")
        - sales_data (at least one numeric detail)
    - DO NOT remove any fields from the JSON
    - DO NOT introduce new top-level keys
    - strategy_text <= 250 words
    - JSON ONLY (no markdown, no backticks)
    - Your enhancements must be narrative, emotional, creative — NOT structural

    WHAT YOU MAY ADD:
    - Creative language in strategy_text
    - Emotional resonance and brand storytelling
    - Enhanced competitor positioning
    - Creative angle to tactics
    - Additional KPI context (BUT do not add new KPI objects)

    OUTPUT:
    - The FULL JSON object with the SAME schema and SAME list lengths, enhanced creatively.
  expected_output: >
    Enhanced JSON with identical structure and list lengths.
  agent: marketing_claude_analyst
  output_key: claude_strategy
  output_file: output/claude_strategy.json
  context: [marketing_openai_task]



marketing_gemini_task:
  description: >
    Input JSON: {{ claude_strategy }}

    Your job is FINALIZATION + OPERATIONALIZATION.

    RULES (MUST FOLLOW):
    - KEEP all existing keys
    - KEEP all list lengths EXACTLY the same for:
        weaknesses, kpis, competitors, tactics, budget.items, benchmarks, assumptions
    - You MAY add new top-level arrays: implementation_phases, team_requirements,
      technology_stack, risks, success_criteria
    - NEVER remove:
        - industry reference ("{industry}")
        - target audience reference ("{target_audience}")
        - at least one numeric reference from {sales_data}
    - Validate and FIX:
        - budget math
        - KPI timeframes & numeric targets
        - tactic ROI ranks
        - missing rubric elements

    REQUIRED ADDITIONS:
    - implementation_phases (2 phases)
    - team_requirements (5+ roles)
    - technology_stack (2–3 tools)
    - risks (2+)
    - success_criteria (2+ metrics)

    RESPONSE FORMAT:
    - JSON ONLY (no markdown, no commentary)
    - Complete JSON object including all original fields + new operational fields
    - strategy_text <= 250 words
  expected_output: >
    Fully operational final strategy: schema-compliant + execution-ready.
  agent: marketing_gemini_analyst
  output_file: output/final_strategy.json
  context: [marketing_openai_task, marketing_claude_task]

